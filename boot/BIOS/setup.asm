bits 16;实模式
org 0x7C00;0x7c00引导扇区的内存地址
section .text
    global _start
_start:
    mov ax,0x0003
    int 0x10
    mov ax,0x0000
    mov ds,ax
    mov ax,0xB800
    mov es,ax
    mov si,msg1
    xor di,di
    mov cx,17
    rep movsw
_move:
    mov ax,0x0000
    mov es,ax
    mov dx,0x0080
    mov cx,0x0002
    mov bx,0x4000
    mov ax,0x0208
    int 0x13
    jnc _jamp
    jc _error
_jamp:
    mov ax,0x0000
    mov ds,ax
    mov ax,0xB80A
    mov es,ax
    mov si,msg3
    xor di,di
    mov cx,13
    rep movsw
    jmp 0x0400:0x0000
_error:
    mov ax,0x0000
    mov ds,ax
    mov ax,0xB80A
    mov es,ax
    mov si,msg2
    xor di,di
    mov cx,13
    rep movsw
    jmp $
msg1:
    db 'L',0x07,'o',0x07,'a',0x07,'d',0x07,'i',0x07,'n',0x07,'g',0x07,' ',0x07,'s',0x07,'y',0x07,'s',0x07,'t',0x07,'e',0x07,'m',0x07,'.',0x07,'.',0x07,'.',0x07
msg2:
    db 'L',0x04,'o',0x04,'a',0x04,'d',0x04,' ',0x04,'e',0x04,'r',0x04,'r',0x04,'o',0x04,'r',0x04,'!',0x04,'!',0x04,'!',0x04
msg3:
    db 'L',0x02,'o',0x02,'a',0x02,'d',0x02,' ',0x02,'s',0x02,'u',0x02,'c',0x02,'c',0x02,'e',0x02,'e',0x02,'d',0x02,'!',0x02
times 0x1B8 - ($ - $$) db 0
db 0x7E,0xDD,0x88,0x91,0x00,0x00,0x00,0x20,0x21,0x00,0xEF,0x1E,0x2B,0x33,0x00,0x08,0x00,0x00,0x00,0x80,0x0C,0x00,0x00,0x00;分区表
times 510 - ($ - $$) db 0
dw 0xAA55